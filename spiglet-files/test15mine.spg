MAIN
	MOVE TEMP 2 HALLOCATE 8
	MOVE TEMP 3 HALLOCATE 12
	MOVE TEMP 26 Test_start2
	HSTORE TEMP 2 4 TEMP 26
	MOVE TEMP 27 Test_start1
	HSTORE TEMP 2 0 TEMP 27
	MOVE TEMP 4 4
L0
	MOVE TEMP 28 LT TEMP 4 12
	CJUMP TEMP 28 L1
	MOVE TEMP 29 PLUS TEMP 3 TEMP 4
	MOVE TEMP 30 0
	HSTORE TEMP 29 0 TEMP 30
	MOVE TEMP 4 PLUS TEMP 4 4
	JUMP L0
L1
	HSTORE TEMP 3 0 TEMP 2
	HLOAD TEMP 6 TEMP 3 0
	HLOAD TEMP 7 TEMP 6 0
	MOVE TEMP 31 CALL TEMP 7 ( TEMP 3 )
	MOVE TEMP 5 TEMP 31
	HLOAD TEMP 9 TEMP 5 0
	HLOAD TEMP 10 TEMP 9 0
	MOVE TEMP 33 CALL TEMP 10 ( TEMP 5 )
	MOVE TEMP 8 TEMP 33
	PRINT TEMP 8
END

A_foo [ 1 ]
 BEGIN
	MOVE TEMP 2 HALLOCATE 8
	MOVE TEMP 3 HALLOCATE 12
	MOVE TEMP 35 Test_start2
	HSTORE TEMP 2 4 TEMP 35
	MOVE TEMP 36 Test_start1
	HSTORE TEMP 2 0 TEMP 36
	MOVE TEMP 4 4
L2
	MOVE TEMP 37 LT TEMP 4 12
	CJUMP TEMP 37 L3
	MOVE TEMP 38 PLUS TEMP 3 TEMP 4
	MOVE TEMP 39 0
	HSTORE TEMP 38 0 TEMP 39
	MOVE TEMP 4 PLUS TEMP 4 4
	JUMP L2
L3
	HSTORE TEMP 3 0 TEMP 2
	HLOAD TEMP 6 TEMP 3 0
	HLOAD TEMP 7 TEMP 6 4
	MOVE TEMP 40 CALL TEMP 7 ( TEMP 3 )
	MOVE TEMP 5 TEMP 40
	MOVE TEMP 1 TEMP 5
	HLOAD TEMP 9 TEMP 1 0
	HLOAD TEMP 10 TEMP 9 4
	MOVE TEMP 42 CALL TEMP 10 ( TEMP 1 )
	MOVE TEMP 8 TEMP 42
	PRINT TEMP 8
	HLOAD TEMP 12 TEMP 1 0
	HLOAD TEMP 13 TEMP 12 8
	MOVE TEMP 44 CALL TEMP 13 ( TEMP 1 )
	MOVE TEMP 11 TEMP 44
	PRINT TEMP 11
	HLOAD TEMP 15 TEMP 1 0
	HLOAD TEMP 16 TEMP 15 16
	MOVE TEMP 46 CALL TEMP 16 ( TEMP 1 )
	MOVE TEMP 14 TEMP 46
	PRINT TEMP 14
	HLOAD TEMP 18 TEMP 1 0
	HLOAD TEMP 19 TEMP 18 12
	MOVE TEMP 48 CALL TEMP 19 ( TEMP 1 )
	MOVE TEMP 17 TEMP 48
	PRINT TEMP 17
	HLOAD TEMP 21 TEMP 1 0
	HLOAD TEMP 22 TEMP 21 16
	MOVE TEMP 50 CALL TEMP 22 ( TEMP 1 )
	MOVE TEMP 20 TEMP 50
	PRINT TEMP 20
	HLOAD TEMP 24 TEMP 1 0
	HLOAD TEMP 25 TEMP 24 8
	MOVE TEMP 52 CALL TEMP 25 ( TEMP 1 )
	MOVE TEMP 23 TEMP 52
	PRINT TEMP 23
 RETURN 999
END

A_foo1 [ 1 ]
 BEGIN
	MOVE TEMP 54 111
	HSTORE TEMP 0 4 TEMP 54
 RETURN 999
END

A_foo2 [ 1 ]
 BEGIN
	HLOAD TEMP 1 TEMP 0 4
	PRINT TEMP 1
 RETURN 999
END

A_foo3 [ 1 ]
 BEGIN
	MOVE TEMP 55 222
	HSTORE TEMP 0 4 TEMP 55
 RETURN 999
END

A_foo4 [ 1 ]
 BEGIN
	HLOAD TEMP 1 TEMP 0 4
	PRINT TEMP 1
 RETURN 999
END

B_foo3 [ 1 ]
 BEGIN
	MOVE TEMP 56 333
	HSTORE TEMP 0 8 TEMP 56
 RETURN 999
END

B_foo4 [ 1 ]
 BEGIN
	HLOAD TEMP 1 TEMP 0 8
	PRINT TEMP 1
 RETURN 999
END

Test_start1 [ 1 ]
 BEGIN
	MOVE TEMP 1 HALLOCATE 20
	MOVE TEMP 2 HALLOCATE 8
	MOVE TEMP 57 A_foo4
	HSTORE TEMP 1 16 TEMP 57
	MOVE TEMP 58 A_foo3
	HSTORE TEMP 1 12 TEMP 58
	MOVE TEMP 59 A_foo2
	HSTORE TEMP 1 8 TEMP 59
	MOVE TEMP 60 A_foo1
	HSTORE TEMP 1 4 TEMP 60
	MOVE TEMP 61 A_foo
	HSTORE TEMP 1 0 TEMP 61
	MOVE TEMP 3 4
L4
	MOVE TEMP 62 LT TEMP 3 8
	CJUMP TEMP 62 L5
	MOVE TEMP 63 PLUS TEMP 2 TEMP 3
	MOVE TEMP 64 0
	HSTORE TEMP 63 0 TEMP 64
	MOVE TEMP 3 PLUS TEMP 3 4
	JUMP L4
L5
	HSTORE TEMP 2 0 TEMP 1
 RETURN TEMP 2
END

Test_start2 [ 1 ]
 BEGIN
	MOVE TEMP 1 HALLOCATE 20
	MOVE TEMP 2 HALLOCATE 12
	MOVE TEMP 65 B_foo4
	HSTORE TEMP 1 16 TEMP 65
	MOVE TEMP 66 B_foo3
	HSTORE TEMP 1 12 TEMP 66
	MOVE TEMP 67 A_foo2
	HSTORE TEMP 1 8 TEMP 67
	MOVE TEMP 68 A_foo1
	HSTORE TEMP 1 4 TEMP 68
	MOVE TEMP 69 A_foo
	HSTORE TEMP 1 0 TEMP 69
	MOVE TEMP 3 4
L6
	MOVE TEMP 70 LT TEMP 3 12
	CJUMP TEMP 70 L7
	MOVE TEMP 71 PLUS TEMP 2 TEMP 3
	MOVE TEMP 72 0
	HSTORE TEMP 71 0 TEMP 72
	MOVE TEMP 3 PLUS TEMP 3 4
	JUMP L6
L7
	HSTORE TEMP 2 0 TEMP 1
 RETURN TEMP 2
END
